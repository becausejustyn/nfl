---
title: "R Notebook"
output: html_notebook
---

Pre-proc

```{r}
library(tidyverse)
library(nflfastR)
library(future)
options(scipen = 999)
```

```{r}
future::
df <- load_pbp(2010:2020) %>%
  calculate_player_stats(weekly = TRUE) 

df_weekly <- load_pbp(2020, qs = TRUE) %>%
  calculate_player_stats(weekly = TRUE)
```

```{r}
df %>%
  summarise(across(everything(), 
                   ~sum(is.na(.)))) %>%
  select(where(~ any(. > 0)))
```

```{r}
df %>%
  select(-fantasy_points_ppr, -special_teams_tds)
```



```{r}
df1 %>% 
  select(where(is.numeric)) %>%
  correlate(use = "pairwise.complete.obs") %>%
  select(term, epa) %>%
  arrange(-epa)
```

